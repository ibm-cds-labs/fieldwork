<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Field Work | IBM CDS</title>
    <link href="//cloudant.com/wp-content/themes/cloudant/images/favicon.ico" rel='shortcut icon' type='image/vnd.microsoft.icon' />
    <link href="//cloudant.com/wp-content/themes/cloudant/images/favicon.png" rel='icon' type='image/png' />
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/bootstrap.css" type="text/css" />
    <link rel='stylesheet' href='https://api.mapbox.com/mapbox.js/v2.2.1/mapbox.css' />
    <link rel="stylesheet" href="css/leaflet.draw.css" type="text/css">
    <link rel="stylesheet" href="css/main.css" type="text/css" />
    <link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>
    <nav class="navbar navbar-inverse navbar-fixed-top">
        <div class="container-fluid">
            <div class="row">
                <div class="navbar-header col-sm-6">
                    <span class="navbar-brand">
            <a rel="home" href="https://developer.ibm.com/clouddataservices" target="_new">
            <span><span class="ibm">IBM</span> Cloud Data Services <span class="dev">dev</span></span>
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <div class="page-content container-fluid">
        <div class="row">

            <div class="col-sm-3 sidebar">
                <div class="sidebar-title">
                    <p>Field Work</p>
                    <div class="toolbar">
                        <div id="controls">
                            <button id="loadbutton" class="btn btn-warning" onclick="loadData()">Load Data</button>
                            <button id="editbutton" class="btn btn-warning" onclick="editFeatures()" disabled>Edit Pins</button>
                        </div>
                    </div>
                    <!-- end toolbar-->
                </div>

                <!-- sidebar expository content -->
                <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">

                    <div class="panel panel-default">
                        <div class="panel-heading" role="tab" id="headingOne">
                            <h2 class="panel-title">
                  <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">About</a>
                </h2>
                        </div>
                        <div id="collapseOne" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne">
                            <div class="panel-body">
                                <p class="small">Field Work is a web application that supports offline editing and mapping of geospatial data using Cloudant Geo or Lucene Geo query. It also supports map editing, and <a href="https://cloudant.com/product/cloudant-features/sync/"
                                        target="_blank">syncs</a> locally edited data back to an <a href="https://cloudant.com/" target="_blank">IBM Cloudant</a> database.</p>
                                <p class="small">Many field-based industries whose personnel are disconnected from communications networks -- often in remote areas or even underground -- can benefit from this kind of offline-first mobile application.</p>
                                <p><a href="https://github.com/ibm-cds-labs/fieldwork" target="_blank">Fork me on GitHub</a></p>
                            </div>
                        </div>
                    </div>

                    <div class="panel panel-default">
                        <div class="panel-heading" role="tab" id="headingTwo">
                            <h2 class="panel-title">
                  <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">Get Started</a>
                </h2>
                        </div>
                        <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
                            <div class="panel-body">
                                <ol>
                                    <li class="small">Drag the map to an area you want to see.</li>
                                    <li class="small">Click the <strong>Load Data</strong> button.</li>
                                    <li class="small">On the upper right of the map, choose the data types you want to see.</li>
                                    <li class="small">In the left pane, click the <strong>Edit Pins</strong> button. Pushpins appear on the map.</li>
                                    <li class="small">On the left side of the map, use the controls that appear to edit items. (Hover over a control for guidance.)</li>
                                </ol>
                            </div>
                        </div>
                    </div>

                    <div class="panel panel-default">
                        <div class="panel-heading" role="tab" id="headingThree">
                            <h2 class="panel-title">
                              <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="false" aria-controls="collapseThree">Ingredients</a>
                            </h2>
                        </div>
                        <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
                            <div class="panel-body">
                                <p>The stuff that's baked in.</p>
                                <dl>
                                    <dt><mark class="type_mark">Runtime</mark></dt>
                                    <dd>This is a <a href="https://console.ng.bluemix.net/?direct=classic/#/resources/appGuid=c83bd234-11cf-41db-9cea-a857a07b2d9a" target="_blank" class="type_link">Node.js app</a> running on IBM Bluemix. <a href="https://nodejs.org/en/"
                                            class="type_link" target="_blank">Node.js</a> code is JavaScript running on the server side. Node.js has a rich collection of add-on libraries that can be baked into your applications using the <a href="https://npmjs.org/"
                                            class="type_link">npm</a> package manager. This application uses the <a href="http://expressjs.com/" class="type_link" target="_blank">Express</a> web framework and the <a href="https://www.npmjs.com/package/cloudant"
                                            class="type_link" target="_blank">Cloudant Node.js library</a>, amongst others, to power this web app.</dd>
                                </dl>
                                <dl>
                                    <dt><mark class="type_mark">Data</mark></dt>
                                    <dd>Spatial data for this demo comes from <a href="http://www.mass.gov/anf/research-and-tech/it-serv-and-support/application-serv/office-of-geographic-information-massgis/">MassGIS</a> and was converted into GeoJSON using
                                        <a href="http://www.qgis.org">QGIS</a>, which was then imported into Cloudant using the
                                        <a href="https://github.com/glynnbird/couchimport/" target="_blank">couchimport</a> CSV library. Data is fetched from Cloudant using <a href="https://cloudant.com/geospatial">Cloudant's Geo API.</a></dd>
                                </dl>
                                <dl>
                                    <dt><mark class="type_mark">Code</mark></dt>
                                    <dd>Fieldwork is an open-source project published under the Apache-2.0 license. This means that it is free for you to use, copy or modify in any way. Feel free to download the
                                        <a href="https://github.com/ibm-cds-labs/fieldwork/" target="_blank" class="type_link">code on Github</a> and alter it to suit your own purposes before deploying it from your local own machine using the <a href="https://console.ng.bluemix.net/docs/starters/upload_app.html"
                                            class="type_link" target="_blank">cf push</a> command. Contributions to this project are welcome: either raise an <a href="https://github.com/ibm-cds-labs/fieldwork/issues" class="type_link" target="_blank">Issue on Github</a>                                        or if you fix or improve something, <a href="https://github.com/ibm-cds-labs/fieldwork#fork-destination-box" class="type_link" target="_blank">Fork the code</a>, alter it and send us a pull request.
                                    </dd>
                                </dl>
                                <dl>
                                    <dt><mark class="type_mark">Compression</mark></dt>
                                    <dd>By compressing or "zipping up" the search results within Fieldwork before sending the data to the browser, we can make savings on the volume of data being transferred between server and client. The smaller the amount
                                        of data being transferred, the faster the service - especially in cirumstances where bandwidth is low, such as mobile applications. For instance, <a href="https://sss-got.mybluemix.net/search?q=Lannister&amp;limit=100"
                                        class="type_link" target="_blank">this request</a> takes 39k to transfer uncompressed but less than 7k compressed - nearly a 6x saving. Compression is achieved using the <a href="https://www.npmjs.com/package/compression"
                                        class="type_link" target="_blank">Compression Express module</a>.
                                    </dd>
                                </dl>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- end sidebar expository content -->

            </div>
            <!-- end sidebar -->

            <div class="col-sm-9 col-sm-offset-3 appwindow">
                <div id="map"></div>
                <div class="panel-body small" id="messages" style="height:128px;overflow:scroll;background-color:#666"></div>
            </div>

            <a href="https://github.com/ibm-cds-labs/fieldwork">
                <img style="position:absolute;top:40px;right:-8px;border:0;" src="https://camo.githubusercontent.com/652c5b9acfaddf3a9c326fa6bde407b87f7be0f4/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6f72616e67655f6666373630302e706e67"
                    alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png">
            </a>
        </div>
        <!-- end appwindow -->

    </div>
    <!-- end row -->

    <!-- Help message -->
    <div id="helpmodal" class="modal fade" tabindex="-1" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title">Get Started</h4>
                </div>
                <div class="modal-body">
                    <ol>
                        <li>Drag the map to an area you want to see.</li>
                        <li>Click the <strong>Load Data</strong> button.</li>
                        <li>On the upper right of the map, choose the data types you want to see.</li>
                        <li>In the left pane, click the <strong>Edit Pins</strong> button. Pushpins appear on the map.</li>
                        <li>On the left side of the map, use the controls that appear to edit items. (Hover over a control for guidance.)</li>
                    </ol>

                    <p>Click the <b>Get Started</b> panel in the bottom-left corner to see this help again.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!-- /.modal -->

    </div>
    <!-- end page-content -->

    <script src="js/jquery-1.11.1.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/bootbox.min.js"></script>
    <script src="//cdn.jsdelivr.net/pouchdb/5.1.0/pouchdb.min.js"></script>

    <script src='//api.mapbox.com/mapbox.js/v2.2.1/mapbox.js'></script>
    <script src="js/leaflet.draw.js" type="text/javascript"></script>
    <script src="js/webapp.js" type="text/javascript"></script>
    <script src="js/layers.js" type="text/javascript"></script>
</body>

</html>